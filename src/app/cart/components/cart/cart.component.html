@let hasItemsInCart = cart()?.cartItems?.length !== 0;
<main class="mt-20 flex items-center justify-center">
	<div class="container min-h-[90vh]">
		@if (cart()) {
			<div class="relative grid-cols-3 py-10 lg:grid lg:px-16">
				<section
					class="lg:col-span-2 lg:px-5"
					[class.lg:col-span-3]="!hasItemsInCart"
				>
					<div class="box space-y-3 p-5">
						@if (hasItemsInCart) {
							<app-cart-item-list
								[cartProducts]="cart()?.cartItems"
								[showButtons]="true"
							/>
						} @else {
							<p class="p-40 text-center">ADD SOMETHING TO CART</p>
						}
					</div>
				</section>
				@if (hasItemsInCart) {
					<section class="sticky top-0 mt-5 lg:mt-0 lg:min-h-[70vh]">
						<app-order-summary
							[totalPrice]="cart()?.totalPrice"
							[totalDiscountedPrice]="cart()?.totalDiscountedPrice"
							[discount]="cart()?.discount"
						>
							<a routerLink="/checkout">
								<button class="w-full rounded-md!" mat-raised-button>
									CHECKOUT
								</button>
							</a>
						</app-order-summary>
					</section>
				}
			</div>
		} @else {
			<div
				class="flex h-screen items-center justify-center p-2 text-center text-xl"
			>
				<p>LOGIN OR REGISTER TO SEE YOUR CART</p>
			</div>
		}
	</div>
</main>
